# **Stock Advisory Agentic Workflow - CrewAI**

The sophisticated investment advisory system built using **CrewAI** workflow combines multiple AI agents, each equipped with specialized tools, to:
- Gather financial data and news about a company.
- Analyze the data comprehensively.
- Provide actionable investment recommendations.

## **Problem Statement :**
- Create a **Multi-agent workflow** to generate detailed investment advisory **(Bull/Sell/Hold)** by thorough market performance analysis of the company.


## **Tools used :**
- **Python** - Coding Language
- **CrewAI** - Multi-agent workflow creation framework
- **Gemini** - LLM
- **EXA** - For Web Search
- **Yahoo Finance** - For Financial insights


## **Overview :**
- Define custom tools, "EXASearch", "Company Info", "Income Statements" and "Stock Price", to retrieve company's news, financial data, income statements, and stock prices.
- Create agents, "News Agent", "Data Agent", "Analyst Agent" and "Expert Agent" for data gathering, analysis, and recommendation tasks.
- Define tasks aligned with these agents' roles and objectives.
- Configure a crew to execute these tasks sequentially, leveraging collaboration between agents.
- Run the workflow and observe the results.

![Image](https://github.com/user-attachments/assets/e3334f0f-5577-440d-95b0-265d64e44c0b)

## **Detailed Agentic Workflow Walkthrough :**
- Import all required libraries as provided in **requirement.txt** file.
```python
pip install -r requirement.txt
```
- Store the **Gemini API Key** and **EXA API key** in **.env** file and using fetch the API keys securely using *os.getenv()*.
```python
GEMINI_KEY = your_gemini_api_key
EXA_API_KEY = your_exa_api_key

load_dotenv()

GOOGLE_API_KEY = os.getenv("GEMINI_KEY")
```
- Create the following custom tools:
	- **search_tool** - to search the internet for information on any given topic. It can either be built using *EXASearchTool* of *crewAI* or using *DuckDuckGoSearch* of *Langchain*.
	- **get_company_info** - to fetch company's financial information and its performance over various stock market metrics using *Yahoo Finance*.
	- **get_income_statements** - to fetch the income statement of the company using *Yahoo Finance*
	- **get_current_stock_price** - to get the current stock price using *Yahoo Finance*.
- Create the following Agents and assign them tasks:
	- **data_fin_explorer** - Using the custom tools *get_company_info* and *get_income_statements*, it gathers and make detailed financial research of the company's stock.
	- **news_info_explorer** - Using the *search_tool*, it gathers and provides a latest news and information about the company and its stock by doing a web search. 
	- **analyst** - Using the detailed and comprehensive research done by agents *data_fin_explorer* and *news_info_explorer*, it analyses the data thoroughly and provide a detailed financial summary in **Analysis.md** file.
	- **fin_expert** - Considering the analysis done by the *analyst agent*, it provide us with the recommendation of whether to *Buy/Hold/Sell* the stock and also details out the reason behind that recommendation in **Fin_Recommendation.md** file.
- Run the agentic workflow using the following command:
```python
py agent_investor.py
```
- Below are the outputs given by different agents on execution:

- **Agent : data_fin_explorer** 

![Image](https://github.com/user-attachments/assets/ac558a39-ccb0-4497-82e0-e62b8743e3de)
![Image](https://github.com/user-attachments/assets/7be504d0-93f5-4589-9398-786418b4d38c)
![Image](https://github.com/user-attachments/assets/fc3889ea-f8eb-41c7-b203-5fe98d26bd5e)

- **Agent : news_info_explorer**

![Image](https://github.com/user-attachments/assets/9fd20aea-a117-464a-a94c-1521f70274f0)

- **Agent : analyst**

![Image](https://github.com/user-attachments/assets/c3147cb8-85b6-4a07-99af-71caa9f010c5)
![Image](https://github.com/user-attachments/assets/8d63009b-2362-4614-a1f4-4fd9c32f0103)

**Output : Analysis.md** file

- **Agent : fin_expert**

![Image](https://github.com/user-attachments/assets/7aaca0b5-2e7b-4ecc-b08a-5e4bf0c76f2f)
![Image](https://github.com/user-attachments/assets/1783ece0-ed8e-41e0-9a52-58bce684885e)

## **Summary :**
- The final investment advice generated by the agentic workflow system is to currently **Hold** the **Reliance** stock.
- The reasons to hold the stock and its detailed financial analysis are provided in **Fin_Recommendation.md** file.

![Image](https://github.com/user-attachments/assets/3eeacb8f-0190-4c32-9da9-d1b6ecdf1924)
